<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
 
  <title>polycode | Web (HTML/CSS/JS)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-content" />

  

  <link rel="icon" href="./assets/logo.png" />
  <link rel="stylesheet" href="./css/shell.css" />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <meta name="color-scheme" content="dark light">
</head>

<body class="page-fade">
  <!-- Header -->
  <header class="site-header">
    <!-- centered brand block -->
    <div class="brand-wrap">
      <div class="brand-grid">
        <img src="./assets/PC-Logo.png" alt="polycode" class="brand-logo" loading="lazy" decoding="async" />
        <div class="brand-title2">polycode</div>
        <div class="brand-tagline2">
          learn<span class="dot">.</span>code<span class="dot">.</span>execute
        </div>
      </div>
    </div>

    <!-- right nav -->
    <nav class="site-nav">
      <a href="./index.html">Home</a>
      <a href="./about.html">About</a>
      <a href="./contact.html">Contact</a>
    </nav>
  </header>

  <!-- App -->
  <main class="stage" role="main">
    <div class="app">
      <!-- LEFT panel -->
      <section class="panel left" id="leftPanel">
        <div class="pane-head">
          <!-- Language dropdown in the top bar (full width) -->
          <select id="langSelect" class="select" aria-label="Choose language" onchange="location.href=this.value" disabled>
            <option value="./index-web.html" selected>HTML/CSS/JS</option>
            <option value="./index-c.html">C</option>
            <option value="./index-cpp.html">C++</option>
            <option value="./index-java.html">Java</option>
            <option value="./index-python.html">Python</option>
            <option value="scratch">Scratch</option>

            <option value="./index-sql.html">SQL (MySQL/SQLite)</option>
            
            
          </select>
          <div class="right-controls">
      <!-- existing left controlsâ€¦ -->
      <button class="btn expander" onclick="toggleExpand('left', this)" aria-pressed="false" title="Expand Left panel">â¤¢</button>
    </div>

        </div>
        <div class="pane-scroll">

        <div class="pane-body">
          <!-- Editable content pulled from /content/web.html -->
          <div id="leftContent" style="margin-top:12px;"></div>
        </div>
        <div class="pane-foot"><span class="msg" id="leftFoot">About Web</span></div>
        </div>
      </section>

     

      <!-- CENTER panel (Editor) -->
      <section class="panel center" id="centerPanel">
        <div class="pane-head">
          <!-- theme -->

           <button id="btnToggleLeft"  class="btn btn-toggle" aria-pressed="false"  title="Show/Hide Left Panel">
  <!-- sidebar-left icon -->
  <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
    <rect x="3" y="4" width="6" height="16" rx="1" />
    <rect x="10" y="4" width="11" height="16" rx="1" fill="none" stroke="currentColor" stroke-width="2"/>
  </svg>
</button>


          
          <button id="themeToggle" class="btn theme-btn" title="Toggle theme" aria-label="Toggle theme">
            <svg viewBox="0 0 24 24" id="themeIcon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
          </button>

         

          <div class="right-controls" style="margin-left:auto; display:flex; gap:8px; align-items:center;">
            <!-- Run -->

            <button id="btnToggleRight" class="btn btn-toggle" aria-pressed="true"  title="Show/Hide Output Panel" hidden>
  <!-- terminal/output icon -->
  <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
    <rect x="3" y="4" width="18" height="16" rx="2" fill="none" stroke="currentColor" stroke-width="2"/>
    <path d="M7 9l3 3-3 3M12 15h5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>


            <button id="btnSaveFile" class="btn" title="Capture & Share (Ctrl/Cmd+S)" aria-label="Capture & Share">
  <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
    <!-- camera frame -->
    <rect x="3" y="6" width="18" height="13" rx="2" ry="2"
          fill="none" stroke="currentColor" stroke-width="2"/>
    <!-- top bar / notch -->
    <path d="M9 6l1.5-2h3L15 6" fill="none" stroke="currentColor" stroke-width="2"/>
    <!-- focus dot -->
    <circle cx="12" cy="12" r="2.5" fill="currentColor"/>
  </svg>
</button>



<!-- Share (builds a PDF then shares) -->
 <button id="btnSharePdf" class="btn" title="Download PDF" aria-label="Download PDF">
              <svg viewBox="0 0 24 24"><path d="M5 20h14v-2H5v2zM7 9h4V3h2v6h4l-5 5-5-5z" fill="currentColor"/></svg>
            </button>


            
            <button id="btnRun" class="btn primary attn" title="Execute (Click or Press F9)" aria-label="Run">
              <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            </button>
          </div>
        </div>
<div class="pane-scroll">

        <div id="editor"></div>
        <div class="pane-foot"><span class="msg" id="centerFoot">Ready for Execution</span></div>
</div>
      </section>

    
      <!-- RIGHT panel (Preview) -->
      <section class="panel right" id="rightPanel">
        <div class="pane-head">
        
          <div class="right-controls" style="margin-left:auto; display:flex; gap:8px;">
            <button class="btn expander" onclick="toggleExpand('right', this)" aria-pressed="false" title="Expand Output">â¤¢</button>

            <!-- Reset -->
            <button id="btnReset" class="btn" title="Reset (Click or Press F10)" aria-label="Reset">
              <svg viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3C7.58 4 4 7.58 4 12s3.58 8 8 8a8 8 0 007.39-4.91l-1.85-.77A6 6 0 1112 6z"/></svg>
            </button>
          </div>
        </div>

        <div class="pane-scroll">

        <div id="output" class="screen-dim" style="padding:0;">
          <!-- sandboxed preview -->
         <iframe id="preview"
  title="Web Preview"
  referrerpolicy="no-referrer"
  sandbox="allow-scripts allow-same-origin allow-forms allow-modals allow-pointer-lock allow-popups allow-downloads"
  style="width:100%; height:100%; border:0; background:transparent;"></iframe>


        </div>

        <div class="pane-foot"><span class="msg" id="rightFoot">Waiting for Execution</span></div>
        </div>
      </section>
    </div>
  </main>


  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-grid">
      <!-- Left: Edifica logo + powered + slogan -->
      <div class="footer-left">
        <img src="./assets/logo.png" alt="Edifica" class="footer-logo" loading="lazy" decoding="async" />
        <div class="txt">
          <span class="powered">powered by edifica</span>
          <span class="subline">
            education<span class="dot">.</span>consultation<span class="dot">.</span>assistance
          </span>
          <div class="siteurl"><a href="https://www.edifica.in" target="_blank" rel="noopener">www.edifica.in</a></div>
        </div>
      </div>

      <!-- Center: Follow us + icons -->
      <div class="footer-center">
        <span class="label">Follow us</span>
        <a class="social" href="https://facebook.com/edifica.facebook" target="_blank" rel="noopener" aria-label="Facebook" title="Facebook">
          <svg viewBox="0 0 24 24" width="18" height="18"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.16 8.44 9.93v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.24.2 2.24.2v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.44 2.9h-2.34v7.03C18.34 21.23 22 17.08 22 12.07z"/></svg>
        </a>
        <a class="social" href="https://instagram.com/edifica.ig" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
          <svg viewBox="0 0 24 24" width="18" height="18"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM12 9.5A2.5 2.5 0 1 1 9.5 12 2.5 2.5 0 0 1 12 9.5z"/></svg>
        </a>
        <a class="social" href="https://youtube.com/@edifica.youtube" target="_blank" rel="noopener" aria-label="YouTube" title="YouTube">
          <svg viewBox="0 0 24 24" width="18" height="18"><path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.4 3.5 12 3.5 12 3.5s-7.4 0-9.4.6A3 3 0 0 0 .5 6.2 31.7 31.7 0 0 0 0 12a31.7 31.7 0 0 0 .6 5.8 3 3 0 0 0 2.1 2.1c2 .6 9.3.6 9.3.6s7.4 0 9.4-.6a3 3 0 0 0 2.1-2.1c.4-1.9.6-3.9.6-5.8 0-1.9-.2-3.9-.6-5.8zM9.6 15.5V8.5L16 12l-6.4 3.5z"/></svg>
        </a>
      </div>

      <!-- Right: legal links -->
      <div class="footer-right">
        <a href="./privacy.html">Privacy Policy</a>
        <a href="./terms.html">Terms &amp; Conditions</a>
        <a href="./legal.html">Legal Information</a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.min.js" defer></script>
  <script src="./js/shell.js" defer></script>

  <!-- Page script -->
 <script>
/* --- Sample HTML used in the editor --- */
const SAMPLE_WEB =
`<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Polycode Preview</title>
  <style>
    :root{ color-scheme: light dark }
    body{ font:14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:24px; }
    h1{ margin:0 0 8px; }
    .card{ border:1px solid #ddd; padding:12px; border-radius:8px; }
    button{ padding:6px 10px; border:1px solid #ccc; background:gray; cursor:pointer; }
  </style>
</head>
<body>
  <h1>Hello, Polycode ðŸ‘‹</h1>
  <p>Edit HTML/CSS/JS in the editor and press <strong>Run</strong>.</p>
  <div class="card">
    <p>Time now: <span id="tn"></span></p>
    <button onclick="runtn()">Update Time</button>
  </div>
  <script>
    console.log('Preview loaded!');
    document.getElementById('tn').textContent = new Date().toLocaleTimeString();
  <\/script>
  <script>
  function runtn(){
  document.getElementById('tn').textContent = new Date().toLocaleTimeString()
alert('latest time updated')
  } <\/script>
</body>
</html>`;

/* --- Make bootstrap globally visible --- */
window.bootstrap = async function bootstrap(){
  await window.PolyShell.initMonaco({ value: SAMPLE_WEB, language: 'html' });
  window.PolyShell.setStatus('Ready','ok');
  window.PolyShell.loadLeftContent('web');  // loads /content/web.html into left pane
};

/* --- Run/Clear (accepts optional selection for hotkeys) --- */
window.runLang = async function(codeOverride){
  const code = (typeof codeOverride === 'string' && codeOverride.trim())
    ? codeOverride
    : (window.editor ? window.editor.getValue() : SAMPLE_WEB);

  const frame = document.getElementById('preview');
  if ('srcdoc' in frame) {
    frame.srcdoc = code;
  } else {
    const doc = frame.contentWindow.document;
    doc.open(); doc.write(code); doc.close();
  }
};
window.clearLang = function () {
  // SQL page
  const sqlout = document.getElementById('sqlout');
  if (sqlout) sqlout.replaceChildren();

  // Web page
  const frame = document.getElementById('preview');
  if (frame) {
    const mode = window.PolyShell?.getTheme?.() || (document.body.classList.contains('light') ? 'light' : 'dark');
    frame.srcdoc = `
      <!doctype html><meta charset="utf-8">
      <meta name="color-scheme" content="${mode}">
      <style>
        :root{ color-scheme:${mode}; }
        html,body{ margin:0; background:transparent !important; color:inherit; }
      </style>
      <body></body>
    `;
  }

  // Belt & suspenders
  document.getElementById('output')
    ?.style.setProperty('background','transparent','important');
};


/* --- Start after shell.js (defer) has run --- */
(function startWhenReady(){
  function start(){
    if (!window.PolyShell) {
      // shell.js not ready yet; poll briefly
      const id = setInterval(() => {
        if (window.PolyShell){ clearInterval(id); window.bootstrap(); }
      }, 25);
      setTimeout(() => clearInterval(id), 3000); // stop polling after 3s
      return;
    }
    window.bootstrap();
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', start, { once:true });
  } else {
    start();
  }
})();
</script>

<script src="./js/lang-select.js" defer></script>
  

</body>
</html>
