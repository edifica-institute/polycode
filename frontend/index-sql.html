<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>polycode | SQL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="./assets/logo.png" />
  <link rel="stylesheet" href="./css/shell.css" />
</head>

<body>
  <!-- Header -->
<header class="site-header">
  <!-- centered brand block -->
  <div class="brand-wrap">
    <div class="brand-grid">
      <img src="./assets/PC-Logo.png" alt="polycode" class="brand-logo" />
      <div class="brand-title2">polycode</div>
      <div class="brand-tagline2">
        learn<span class="dot">.</span>code<span class="dot">.</span>run
      </div>
    </div>
  </div>

  <!-- right nav -->
  <nav class="site-nav">
    <a href="./index.html">Home</a>
    <a href="./about.html">About</a>
    <a href="./contact.html">Contact</a>
  </nav>
</header>





  <!-- App -->
  <div class="stage">
    <div class="app">
      <!-- LEFT panel -->
      <section class="panel left" id="leftPanel">
        <div class="pane-head">
          <!-- Language dropdown in the top bar (full width) -->
          <select id="langSelect" class="select" onchange="location.href=this.value">
            <option value="./index-sql.html" selected>SQL (MySQL/SQLite)</option>
            <option value="./index-web.html">HTML/CSS/JS</option>
            <option value="./index-java.html">Java</option>
            <option value="./index-c.html">C</option>
          </select>
        </div>
        <div class="pane-body">
          <!-- Editable content pulled from /content/sql.html -->
         

          <div id="leftContent" style="margin-top:12px;"></div>
        </div>
         <div class="pane-foot"><span class="msg" id="leftFoot">About SQL</span></div>
      </section>

      <!-- RESIZER between left and center -->
      <div class="v-resize"><div id="dragLeft"></div></div>

      <!-- CENTER panel (Editor) -->
      <section class="panel center" id="centerPanel">
        <div class="pane-head">
  <!-- theme first (6) -->
  <button id="themeToggle" class="btn theme-btn" title="Toggle theme" aria-label="Toggle theme">
    <svg viewBox="0 0 24 24" id="themeIcon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
  </button>

  <span class="title" id="centerTitle" style="margin-left:8px;">polycode | SQL â€“ Editor</span>

  <div class="right-controls" style="margin-left:auto; display:flex; gap:8px; align-items:center;">
    <!-- Run -->
    <button id="btnRun" class="btn primary attn" title="Run" aria-label="Run">
      <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
    </button>
  </div>
</div>

        <div id="editor"></div>
        <div class="pane-foot"><span class="msg" id="centerFoot">Ready for Execution</span></div>

      </section>

      <!-- RESIZER between center and right -->
      <div class="v-resize right"><div id="dragRight"></div></div>

      <!-- RIGHT panel (Screen) -->
      <section class="panel right" id="rightPanel">
        <div class="pane-head">
          <span class="title">polycode | SQL - Screen</span>
          <div class="right-controls" style="margin-left:auto; display:flex; gap:8px;">
            <!-- Reset -->
            <button id="btnReset" class="btn" title="Reset" aria-label="Reset">
              <svg viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3C7.58 4 4 7.58 4 12s3.58 8 8 8a8 8 0 007.39-4.91l-1.85-.77A6 6 0 1112 6z"/></svg>
            </button>
          </div>
        </div>
        <div id="output" class="screen-dim">
          <div id="sqlout"></div>
        </div>
        <div class="pane-foot"><span class="msg" id="rightFoot">Waiting for Execution</span></div>

      </section>
    </div>
  </div>

  <!-- Floating chevron for collapse/expand -->
  <div class="chevron-tab" id="chevronTab" title="Toggle left panel">
    <svg viewBox="0 0 24 24"><path d="M9.29 6.71a1 1 0 011.42 0L15 11l-4.29 4.29a1 1 0 11-1.42-1.42L12.17 11 9.29 8.12a1 1 0 010-1.41z"/></svg>
  </div>

  <!-- Footer -->
<footer class="site-footer">
  <div class="footer-grid">
    <!-- Left: Edifica logo + powered + slogan -->
    <div class="footer-left">
      <img src="./assets/logo.png" alt="Edifica" class="footer-logo" />
      <div class="txt">
        <span class="powered">powered by edifica</span>
        <span class="subline">
          education<span class="dot">.</span>consultation<span class="dot">.</span>assistance
        </span>
      </div>
    </div>

    <!-- Center: Follow us + icons (auto colors by theme) -->
    <div class="footer-center">
      <span class="label">Follow us</span>
      <a class="social" href="https://facebook.com/edifica.facebook" target="_blank" rel="noopener" aria-label="Facebook" title="Facebook">
        <!-- FB -->
        <svg viewBox="0 0 24 24" width="18" height="18"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.16 8.44 9.93v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.24.2 2.24.2v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.44 2.9h-2.34v7.03C18.34 21.23 22 17.08 22 12.07z"/></svg>
      </a>
      <a class="social" href="https://instagram.com/edifica.ig" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
        <!-- IG -->
        <svg viewBox="0 0 24 24" width="18" height="18"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM12 9.5A2.5 2.5 0 1 1 9.5 12 2.5 2.5 0 0 1 12 9.5z"/></svg>
      </a>
      <a class="social" href="https://youtube.com/@edifica.youtube" target="_blank" rel="noopener" aria-label="YouTube" title="YouTube">
        <!-- YT -->
        <svg viewBox="0 0 24 24" width="18" height="18"><path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.4 3.5 12 3.5 12 3.5s-7.4 0-9.4.6A3 3 0 0 0 .5 6.2 31.7 31.7 0 0 0 0 12a31.7 31.7 0 0 0 .6 5.8 3 3 0 0 0 2.1 2.1c2 .6 9.3.6 9.3.6s7.4 0 9.4-.6a3 3 0 0 0 2.1-2.1c.4-1.9.6-3.9.6-5.8 0-1.9-.2-3.9-.6-5.8zM9.6 15.5V8.5L16 12l-6.4 3.5z"/></svg>
      </a>
    </div>

    <!-- Right: legal links (now underlined) -->
    <div class="footer-right">
      <a href="./privacy.html">Privacy Policy</a>
      <a href="./terms.html">Terms &amp; Conditions</a>
      <a href="./legal.html">Legal Information</a>
    </div>
  </div>
</footer>

  


  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sql.js@1.10.2/dist/sql-wasm.js"></script>
  <script src="./js/shell.js"></script>

  <!-- Page script -->
  <script defer>
    const SAMPLE_SQL =
`-- In-browser SQL (sql.js)
CREATE TABLE users(id INTEGER, name TEXT);
INSERT INTO users VALUES (1,'Alice'),(2,'Bob');
SELECT * FROM users;`;

    let db;

    async function bootstrap(){
      await PolyShell.initMonaco({ value:SAMPLE_SQL, language:'sql' });
      const SQL = await window.initSqlJs({
        locateFile: f => 'https://cdn.jsdelivr.net/npm/sql.js@1.10.2/dist/' + f
      });
      db = new SQL.Database();
      PolyShell.setStatus('Ready','ok');
      PolyShell.loadLeftContent('sql');  // load /content/sql.html into left pane
    }

    window.runLang = async function(){
      if (!db) await bootstrap();
      const out = document.getElementById('sqlout');
      out.innerHTML = '';
      try{
        const res = db.exec(window.editor.getValue());
        if (!res.length){ out.textContent='(no rows)'; return; }
        const { columns, values } = res[0];
        const table = document.createElement('table');
        table.style.borderCollapse='collapse';
        const thead=document.createElement('thead'), trh=document.createElement('tr');
        columns.forEach(c=>{
          const th=document.createElement('th'); th.textContent=c;
          th.style.border='1px solid var(--border)'; th.style.padding='6px 8px';
          trh.appendChild(th);
        });
        thead.appendChild(trh); table.appendChild(thead);
        const tbody=document.createElement('tbody');
        values.forEach(row=>{
          const tr=document.createElement('tr');
          row.forEach(cell=>{
            const td=document.createElement('td'); td.textContent=String(cell);
            td.style.border='1px solid var(--border)'; td.style.padding='6px 8px';
            tr.appendChild(td);
          });
          tbody.appendChild(tr);
        });
        table.appendChild(tbody); out.appendChild(table);
      }catch(e){
        document.getElementById('sqlout').innerHTML = '<pre>'+ (e?.message || String(e)) +'</pre>';
        throw e; // let shell mark the editor
      }
    }

    window.clearLang = function(){
      document.getElementById('sqlout').innerHTML='';
    }

    bootstrap();
  </script>
</body>
</html>
